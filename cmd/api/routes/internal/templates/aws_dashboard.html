<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AWS Metrics Dashboard</title>
    <style>
        form div {
            display: inline-block;
            margin-right: 30px;
        }
        table{
            background-color: rgb(214, 222, 255);
        }
        .breadcrumbs {
            list-style: none;
            padding: 0;
            margin: 10px 0;
        }
        .breadcrumbs li {
            display: inline;
            margin-right: 5px;
        }
        .breadcrumbs li a {
            text-decoration: none;
            color: blue;
        }
        .breadcrumbs li a:hover {
            text-decoration: underline;
        }
        .breadcrumbs li::after {
            content: ">>";
            margin-left: 5px;
        }
        .breadcrumbs li:last-child::after {
            content: "";
        }
    </style>
</head>
<body>
    <h1>AWS Metrics Dashboard</h1>

    {{ if .Services }}
    <form method="get" action="/aws_metrics/home/resources">
        <div>
            <label for="service_name">Select AWS Service:</label>
            <select name="service_name" id="service_name">
                <option value="None">None</option>
                {{ range .Services }}
                <option value="{{ . }}">{{ . }}</option>
                {{ end }}
            </select>
        </div>
        <div>
            <label for="start_date">Start Date:</label>
            <input type="date" id="start_date" name="start_date">
        </div>
        <div>
            <label for="end_date">End Date:</label>
            <input type="date" id="end_date" name="end_date">
        </div>
        <div>
            <button type="submit" style="background-color: rgb(74, 74, 255);color: white;padding: 5px;border-radius: 5px;border-color: white;">Search</button>
        </div>
    </form>
    {{ end }}
    
    {{ if .Metrics }}
    <h2>
        {{ if eq .ServiceName "None" }}
            All AWS Metrics:
        {{ else }}
            Metrics for <span style="color: red;">{{ .ServiceName }}</span> from <span style="color: red;">{{ .StartDate }}</span> to <span style="color: red;">{{ .EndDate }}</span>:
        {{ end }}
    </h2>
    <table border="1">
        <tr>
            <th>Date</th>
            <th>CPU Usage (%)</th>
            <th>Disk Space (GB)</th>
            <th>Memory (MB)</th>
            <th>IO Reads</th>
            <th>IO Writes</th>
            <th>Network In (MB)</th>
            <th>Network Out (MB)</th>
            <th>Cost ($)</th>
        </tr>
        {{ range .Metrics }}
        <tr>
            <td>{{ .Date.Format "2006-01-02" }}</td>
            <td>{{ .CPUUsage }}</td>
            <td>{{ .DiskSpace }}</td>
            <td>{{ .Memory }}</td>
            <td>{{ .IOReads }}</td>
            <td>{{ .IOWrites }}</td>
            <td>{{ .NetworkIn }}</td>
            <td>{{ .NetworkOut }}</td>
            <td>{{ .Cost }}</td>
        </tr>
        {{ end }}
    </table>
    {{ end }}

</body>
</html>
